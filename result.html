<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Result</title>
<link rel="stylesheet" href="style.css">
</head>

<body>
<div class="game-container screen">

  <h2>結果</h2>

  <p>正解数: <span id="correct"></span></p>
  <p>ミス数: <span id="miss"></span></p>

  <h3>間違った入力</h3>

  <!-- ボックス表示 -->
  <div id="missBox" class="miss-box"></div>
  <div id="missWords"></div>

  <button onclick="location.href='topic.html'"style="background:red;color:white;">トピックへ</button>
  <button id="retryBtn" class="btn retry-btn">やり直し</button>

</div>


<script>
  document.getElementById("correct").textContent =
    localStorage.getItem("correct") || "0";

  document.getElementById("miss").textContent =
    localStorage.getItem("miss") || "0";

  // ★ミス入力リスト（missList）を表示
  const list = JSON.parse(localStorage.getItem("missList")) || [];
  const box = document.getElementById("missBox");

  if (list.length === 0) {
    const div = document.createElement("div");
    div.className = "chip none";
    div.textContent = "なし";

    box.appendChild(div);
  } else {
    list.forEach(item => {
      const div = document.createElement("div");
      div.className = "chip";
      div.textContent = item;
      box.appendChild(div);
    });
  }

  // やり直し：直前の Topic + 文字タイプ(mode) のまま再スタート
  document.getElementById("retryBtn").addEventListener("click", () => {
    localStorage.setItem("retry", "1");
    location.href = "game.html";
  });
</script>

</body>
</html>
